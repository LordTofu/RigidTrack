<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rigid Track: RigidTrack/main.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rigid Track
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('main_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;windows.h&gt;</code><br />
<code>#include &lt;conio.h&gt;</code><br />
<code>#include &lt;tchar.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;gl/glu.h&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;future&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &quot;<a class="el" href="communication_8h_source.html">communication.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_rigid_track_8h_source.html">RigidTrack.h</a>&quot;</code><br />
<code>#include &lt;QtWidgets/QApplication&gt;</code><br />
<code>#include &lt;QUdpSocket&gt;</code><br />
<code>#include &quot;cameralibrary.h&quot;</code><br />
<code>#include &quot;modulevector.h&quot;</code><br />
<code>#include &quot;modulevectorprocessing.h&quot;</code><br />
<code>#include &quot;coremath.h&quot;</code><br />
<code>#include &lt;opencv\cv.h&gt;</code><br />
<code>#include &quot;opencv2\core.hpp&quot;</code><br />
<code>#include &quot;opencv2\calib3d.hpp&quot;</code><br />
<code>#include &lt;opencv2/imgproc/imgproc.hpp&gt;</code><br />
<code>#include &lt;opencv2/calib3d/calib3d.hpp&gt;</code><br />
<code>#include &lt;opencv2/highgui/highgui.hpp&gt;</code><br />
<code>#include &lt;opencv2\video\tracking.hpp&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.h:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h__incl.png" border="0" usemap="#_rigid_track_2main_8h" alt=""/></div>
<map name="_rigid_track_2main_8h" id="_rigid_track_2main_8h">
<area shape="rect" id="node16" href="communication_8h.html" title="communication.h" alt="" coords="81,155,203,181"/>
<area shape="rect" id="node19" href="_rigid_track_8h.html" title="RigidTrack.h" alt="" coords="1471,80,1565,107"/>
<area shape="rect" id="node21" href="ui___rigid_track_8h.html" title="ui_RigidTrack.h" alt="" coords="1463,155,1573,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h__dep__incl.png" border="0" usemap="#_rigid_track_2main_8hdep" alt=""/></div>
<map name="_rigid_track_2main_8hdep" id="_rigid_track_2main_8hdep">
<area shape="rect" id="node2" href="_rigid_track_8h.html" title="RigidTrack/RigidTrack.h" alt="" coords="340,80,499,107"/>
<area shape="rect" id="node5" href="main_8cpp.html" title="RigidTrack/main.cpp" alt="" coords="435,162,575,189"/>
<area shape="rect" id="node6" href="_rigid_track_8cpp.html" title="RigidTrack/RigidTrack.cpp" alt="" coords="599,162,773,189"/>
<area shape="rect" id="node3" href="_debug_2moc___rigid_track_8cpp.html" title="RigidTrack/GeneratedFiles\l/Debug/moc_RigidTrack.cpp" alt="" coords="5,155,191,196"/>
<area shape="rect" id="node4" href="_release_2moc___rigid_track_8cpp.html" title="RigidTrack/GeneratedFiles\l/Release/moc_RigidTrack.cpp" alt="" coords="215,155,410,196"/>
</map>
</div>
</div>
<p><a href="main_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7d029857f86ebf6ac36e9a73508699ad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad">start_camera</a> ()</td></tr>
<tr class="memdesc:a7d029857f86ebf6ac36e9a73508699ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">start the loop that fetches frames, computes the position etc and sends it to other computers  <a href="#a7d029857f86ebf6ac36e9a73508699ad">More...</a><br /></td></tr>
<tr class="separator:a7d029857f86ebf6ac36e9a73508699ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2daa058d8e8204f4e0c51cd8f7d0f962"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962">start_stopCamera</a> ()</td></tr>
<tr class="memdesc:a2daa058d8e8204f4e0c51cd8f7d0f962"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start or stop the camera depending on if the camera is currently running or not.  <a href="#a2daa058d8e8204f4e0c51cd8f7d0f962">More...</a><br /></td></tr>
<tr class="separator:a2daa058d8e8204f4e0c51cd8f7d0f962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3915653dcf5181fdc6e552ae8e6363"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a7f3915653dcf5181fdc6e552ae8e6363">setZero</a> ()</td></tr>
<tr class="memdesc:a7f3915653dcf5181fdc6e552ae8e6363"><td class="mdescLeft">&#160;</td><td class="mdescRight">determine the initial position of the object that serves as reference point or as ground frame origin  <a href="#a7f3915653dcf5181fdc6e552ae8e6363">More...</a><br /></td></tr>
<tr class="separator:a7f3915653dcf5181fdc6e552ae8e6363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852329cf0943686665469e34f44a39bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a852329cf0943686665469e34f44a39bf">calibrate_camera</a> ()</td></tr>
<tr class="memdesc:a852329cf0943686665469e34f44a39bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">start the camera calibration routine that computes the camera matrix and distortion coefficients  <a href="#a852329cf0943686665469e34f44a39bf">More...</a><br /></td></tr>
<tr class="separator:a852329cf0943686665469e34f44a39bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44774828fee2764f3f3734bbd3f446e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a44774828fee2764f3f3734bbd3f446e3">load_calibration</a> (int method)</td></tr>
<tr class="memdesc:a44774828fee2764f3f3734bbd3f446e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a previously saved camera calibration from a file.  <a href="#a44774828fee2764f3f3734bbd3f446e3">More...</a><br /></td></tr>
<tr class="separator:a44774828fee2764f3f3734bbd3f446e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49aae6cc1a72ace00943d9226b5070b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a49aae6cc1a72ace00943d9226b5070b3">test_Algorithm</a> ()</td></tr>
<tr class="memdesc:a49aae6cc1a72ace00943d9226b5070b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">project some points from 3D to 2D and then check the accuracy of the algorithms  <a href="#a49aae6cc1a72ace00943d9226b5070b3">More...</a><br /></td></tr>
<tr class="separator:a49aae6cc1a72ace00943d9226b5070b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2104a5d9d6b9f1e29bc4cd858c59882e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a2104a5d9d6b9f1e29bc4cd858c59882e">projectCoordinateFrame</a> (Mat pictureFrame)</td></tr>
<tr class="memdesc:a2104a5d9d6b9f1e29bc4cd858c59882e"><td class="mdescLeft">&#160;</td><td class="mdescRight">project a coordinate CoSy with the rotation and translation of the object for visualization  <a href="#a2104a5d9d6b9f1e29bc4cd858c59882e">More...</a><br /></td></tr>
<tr class="separator:a2104a5d9d6b9f1e29bc4cd858c59882e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae624b0189bc5e32cbbb1f178b9f1a360"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ae624b0189bc5e32cbbb1f178b9f1a360">setUpUDP</a> ()</td></tr>
<tr class="memdesc:ae624b0189bc5e32cbbb1f178b9f1a360"><td class="mdescLeft">&#160;</td><td class="mdescRight">open the UDP ports for communication  <a href="#ae624b0189bc5e32cbbb1f178b9f1a360">More...</a><br /></td></tr>
<tr class="separator:ae624b0189bc5e32cbbb1f178b9f1a360"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19da4e648bbdc80d3123eb94711588e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ad19da4e648bbdc80d3123eb94711588e">setHeadingOffset</a> (double d)</td></tr>
<tr class="memdesc:ad19da4e648bbdc80d3123eb94711588e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a heading offset to the attitude for the case it is necessary.  <a href="#ad19da4e648bbdc80d3123eb94711588e">More...</a><br /></td></tr>
<tr class="separator:ad19da4e648bbdc80d3123eb94711588e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b6b6db348b48d21e1265e22829c61f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a54b6b6db348b48d21e1265e22829c61f">sendDataUDP</a> (cv::Vec3d &amp;Position, cv::Vec3d &amp;Euler)</td></tr>
<tr class="memdesc:a54b6b6db348b48d21e1265e22829c61f"><td class="mdescLeft">&#160;</td><td class="mdescRight">send the position and attitude over UDP to every receiver, the safety receiver is handled on its own in the start_camera function  <a href="#a54b6b6db348b48d21e1265e22829c61f">More...</a><br /></td></tr>
<tr class="separator:a54b6b6db348b48d21e1265e22829c61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a8b7de0b15dc17198c147ba39e85f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#af2a8b7de0b15dc17198c147ba39e85f3">closeUDP</a> ()</td></tr>
<tr class="memdesc:af2a8b7de0b15dc17198c147ba39e85f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">close the UDP ports again to release network interfaces etc.  <a href="#af2a8b7de0b15dc17198c147ba39e85f3">More...</a><br /></td></tr>
<tr class="separator:af2a8b7de0b15dc17198c147ba39e85f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c7f641859cb2b6b99b0947d03be800"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a56c7f641859cb2b6b99b0947d03be800">loadMarkerConfig</a> (int method)</td></tr>
<tr class="memdesc:a56c7f641859cb2b6b99b0947d03be800"><td class="mdescLeft">&#160;</td><td class="mdescRight">load a marker configuration from file. This file has to be created by hand, use the standard marker configuration file as template  <a href="#a56c7f641859cb2b6b99b0947d03be800">More...</a><br /></td></tr>
<tr class="separator:a56c7f641859cb2b6b99b0947d03be800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6430ad2592a955a3618549547dfc5be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#af6430ad2592a955a3618549547dfc5be">drawPositionText</a> (cv::Mat &amp;Picture, cv::Vec3d &amp;Position, cv::Vec3d &amp;Euler, double <a class="el" href="_import_log_8m.html#af10dacfa214e2575bb2e0ee407c242e0">error</a>)</td></tr>
<tr class="memdesc:af6430ad2592a955a3618549547dfc5be"><td class="mdescLeft">&#160;</td><td class="mdescRight">draw the position, attitude and reprojection error in the picture  <a href="#af6430ad2592a955a3618549547dfc5be">More...</a><br /></td></tr>
<tr class="separator:af6430ad2592a955a3618549547dfc5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af39fa6c3a36ad6bc24a327db7a9d73c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#af39fa6c3a36ad6bc24a327db7a9d73c2">loadCameraPosition</a> ()</td></tr>
<tr class="separator:af39fa6c3a36ad6bc24a327db7a9d73c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0416912fce6274568e80019b10ba294f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a0416912fce6274568e80019b10ba294f">determineExposure</a> ()</td></tr>
<tr class="memdesc:a0416912fce6274568e80019b10ba294f"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the optimal exposure for the camera. For that find the minimum and maximum exposure were the right number of markers are detected  <a href="#a0416912fce6274568e80019b10ba294f">More...</a><br /></td></tr>
<tr class="separator:a0416912fce6274568e80019b10ba294f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ff459289305229597defd39f510959"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a11ff459289305229597defd39f510959">determineOrder</a> ()</td></tr>
<tr class="separator:a11ff459289305229597defd39f510959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad2e3cfb5056dbab2098e0dd3bd353f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a7ad2e3cfb5056dbab2098e0dd3bd353f">calibrateGround</a> ()</td></tr>
<tr class="separator:a7ad2e3cfb5056dbab2098e0dd3bd353f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab5e634b66221f494504aea1557af5df9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ab5e634b66221f494504aea1557af5df9">methodPNP</a></td></tr>
<tr class="memdesc:ab5e634b66221f494504aea1557af5df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">solvePNP algorithm 0 = iterative 1 = EPNP 2 = P3P 4 = UPNP //!&lt; 4 and 1 are the same and not implemented correctly by OpenCV  <a href="#ab5e634b66221f494504aea1557af5df9">More...</a><br /></td></tr>
<tr class="separator:ab5e634b66221f494504aea1557af5df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6266eedab8b3c011be53baffbfc42ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#aa6266eedab8b3c011be53baffbfc42ab">safetyEnable</a></td></tr>
<tr class="memdesc:aa6266eedab8b3c011be53baffbfc42ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">is the safety feature enabled  <a href="#aa6266eedab8b3c011be53baffbfc42ab">More...</a><br /></td></tr>
<tr class="separator:aa6266eedab8b3c011be53baffbfc42ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a436fb814ccc3f02617dade4dc6511143"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a436fb814ccc3f02617dade4dc6511143">safety2Enable</a></td></tr>
<tr class="memdesc:a436fb814ccc3f02617dade4dc6511143"><td class="mdescLeft">&#160;</td><td class="mdescRight">is the second receiver enabled  <a href="#a436fb814ccc3f02617dade4dc6511143">More...</a><br /></td></tr>
<tr class="separator:a436fb814ccc3f02617dade4dc6511143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1b807fcb2de5a6759bd60ccae6dd7e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a2c1b807fcb2de5a6759bd60ccae6dd7e">safetyBoxLength</a></td></tr>
<tr class="memdesc:a2c1b807fcb2de5a6759bd60ccae6dd7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">length of the safety area cube in meters  <a href="#a2c1b807fcb2de5a6759bd60ccae6dd7e">More...</a><br /></td></tr>
<tr class="separator:a2c1b807fcb2de5a6759bd60ccae6dd7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae65386c3310ab826e84fba757296de9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ae65386c3310ab826e84fba757296de9a">safetyAngle</a></td></tr>
<tr class="memdesc:ae65386c3310ab826e84fba757296de9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">bank and pitch angle protection in degrees  <a href="#ae65386c3310ab826e84fba757296de9a">More...</a><br /></td></tr>
<tr class="separator:ae65386c3310ab826e84fba757296de9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97ac0d82b1753d0eef37089be17e5e1"><td class="memItemLeft" align="right" valign="top">QHostAddress&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#ab97ac0d82b1753d0eef37089be17e5e1">IPAdressObject</a></td></tr>
<tr class="memdesc:ab97ac0d82b1753d0eef37089be17e5e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">socket for the communication with the rope winch  <a href="#ab97ac0d82b1753d0eef37089be17e5e1">More...</a><br /></td></tr>
<tr class="separator:ab97ac0d82b1753d0eef37089be17e5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefb1102a8a4a71b55d6f24f46404cc5"><td class="memItemLeft" align="right" valign="top">QHostAddress&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#afefb1102a8a4a71b55d6f24f46404cc5">IPAdressSafety</a></td></tr>
<tr class="memdesc:afefb1102a8a4a71b55d6f24f46404cc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">IPv4 adress of the object wifi telemetry chip, can change to 192.168.4.x. This is where the position etc is sent to.  <a href="#afefb1102a8a4a71b55d6f24f46404cc5">More...</a><br /></td></tr>
<tr class="separator:afefb1102a8a4a71b55d6f24f46404cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354806cf8cbface3575f2541d8fbcbda"><td class="memItemLeft" align="right" valign="top">QHostAddress&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a354806cf8cbface3575f2541d8fbcbda">IPAdressSafety2</a></td></tr>
<tr class="memdesc:a354806cf8cbface3575f2541d8fbcbda"><td class="mdescLeft">&#160;</td><td class="mdescRight">IPv4 adress of the circuit breaker, stays the same.  <a href="#a354806cf8cbface3575f2541d8fbcbda">More...</a><br /></td></tr>
<tr class="separator:a354806cf8cbface3575f2541d8fbcbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a00043c93a3362969c1c1fcd3a70fea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a9a00043c93a3362969c1c1fcd3a70fea">portObject</a></td></tr>
<tr class="memdesc:a9a00043c93a3362969c1c1fcd3a70fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">IPv4 adress of the rope winch,.  <a href="#a9a00043c93a3362969c1c1fcd3a70fea">More...</a><br /></td></tr>
<tr class="separator:a9a00043c93a3362969c1c1fcd3a70fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137bc8cc9d53ad9b176c988a99bc7142"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a137bc8cc9d53ad9b176c988a99bc7142">portSafety</a></td></tr>
<tr class="memdesc:a137bc8cc9d53ad9b176c988a99bc7142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port of the object.  <a href="#a137bc8cc9d53ad9b176c988a99bc7142">More...</a><br /></td></tr>
<tr class="separator:a137bc8cc9d53ad9b176c988a99bc7142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2601be9c226be24c71ec8282f632e723"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a2601be9c226be24c71ec8282f632e723">portSafety2</a></td></tr>
<tr class="memdesc:a2601be9c226be24c71ec8282f632e723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Port of the safety switch.  <a href="#a2601be9c226be24c71ec8282f632e723">More...</a><br /></td></tr>
<tr class="separator:a2601be9c226be24c71ec8282f632e723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc3bd09f5801804b7ae65846e0b9824"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#a5cc3bd09f5801804b7ae65846e0b9824">invertZ</a></td></tr>
<tr class="memdesc:a5cc3bd09f5801804b7ae65846e0b9824"><td class="mdescLeft">&#160;</td><td class="mdescRight">dummy variable to invert Z direction on request  <a href="#a5cc3bd09f5801804b7ae65846e0b9824">More...</a><br /></td></tr>
<tr class="separator:a5cc3bd09f5801804b7ae65846e0b9824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af29e7fc07ae0979d5fb61b473241d33d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcomm_object.html">commObject</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8h.html#af29e7fc07ae0979d5fb61b473241d33d">commObj</a></td></tr>
<tr class="separator:af29e7fc07ae0979d5fb61b473241d33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a852329cf0943686665469e34f44a39bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852329cf0943686665469e34f44a39bf">&#9670;&nbsp;</a></span>calibrate_camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calibrate_camera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start the camera calibration routine that computes the camera matrix and distortion coefficients </p>
<p>Initialize Camera SDK ==&ndash;</p>
<p>At this point the Camera SDK is actively looking for all connected cameras and will initialize them on it's own.</p>
<p>Get a connected camera ================-&mdash;</p>
<p>Determine camera resolution</p>
<p>Set Video Mode ==&ndash;</p>
<p>We set the camera to Segment Mode here. This mode is support by all of our products. Depending on what device you have connected you might want to consider a different video mode to achieve the best possible tracking quality. All devices that support a mode that will achieve a better quality output with a mode other than Segment Mode are listed here along with what mode you should use if you're looking for the best head tracking: </p><pre class="fragment">V100:R1/R2    Precision Mode
TrackIR 5     Bit-Packed Precision Mode
V120          Precision Mode
TBar          Precision Mode
S250e         Precision Mode
</pre><p>If you have questions about a new device that might be conspicuously missing here or have any questions about head tracking, email support or participate in our forums.</p>
<p>Start camera output ==&ndash;</p>
<p>Camera Matrix creation ==&ndash;</p>
<p>Ok, start main loop. This loop fetches and displays ===&mdash; camera frames. ===&mdash; But first set some camera parameters</p>
<p>the user has to provide the size of one square in mm</p>
<p>Fetch a new frame from the camera ===&mdash;</p>
<p>which is why we also set this constant to 8</p>
<p>later on, when we get the frame as usual:</p>
<p>Lets have the Camera Library raster the camera's image into our texture.</p>
<p>&lt; If done with success,</p>
<p>improve the found corners' coordinate accuracy for chessboard</p>
<p>Release camera ==&ndash;</p>
<p>Save the obtained calibration coefficients in a file for later use </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a852329cf0943686665469e34f44a39bf_cgraph.png" border="0" usemap="#main_8h_a852329cf0943686665469e34f44a39bf_cgraph" alt=""/></div>
<map name="main_8h_a852329cf0943686665469e34f44a39bf_cgraph" id="main_8h_a852329cf0943686665469e34f44a39bf_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="193,5,340,32"/>
<area shape="rect" id="node3" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="214,56,319,83"/>
<area shape="rect" id="node4" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="176,107,357,133"/>
<area shape="rect" id="node5" href="main_8cpp.html#a0a7f48017dbb3d64bfc1a171631ad7d7" title="calculate the chess board corner positions, used for the camera calibration " alt="" coords="181,157,353,184"/>
<area shape="rect" id="node6" href="classcomm_object.html#a1f4b8dd22ecc46bab619f6b1fe1a5144" title="commObject::changeStatus" alt="" coords="175,208,359,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a852329cf0943686665469e34f44a39bf_icgraph.png" border="0" usemap="#main_8h_a852329cf0943686665469e34f44a39bf_icgraph" alt=""/></div>
<map name="main_8h_a852329cf0943686665469e34f44a39bf_icgraph" id="main_8h_a852329cf0943686665469e34f44a39bf_icgraph">
<area shape="rect" id="node2" href="class_rigid_track.html#aed2c39da404909142074f7dd2ce75a63" title="RigidTrack::on_btnCalibrate\l_clicked" alt="" coords="175,5,356,47"/>
</map>
</div>

</div>
</div>
<a id="a7ad2e3cfb5056dbab2098e0dd3bd353f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad2e3cfb5056dbab2098e0dd3bd353f">&#9670;&nbsp;</a></span>calibrateGround()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calibrateGround </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the pose of the camera w.r.t the ground calibration frame. This frame sets the navigation frame for later results. The pose is averaged over 200 samples and then saved in the file referenceData.xml. This routine is basically the same as setZero. </p>
<p>initialize the variables with starting values</p>
<p>Initialize Camera SDK ==&ndash;</p>
<p>At this point the Camera SDK is actively looking for all connected cameras and will initialize them on it's own.</p>
<p>Get a connected camera ================-&mdash;</p>
<p>If no device connected, pop a message box and exit ==&ndash;</p>
<p>Determine camera resolution to size application window ==-&mdash;</p>
<p>Set camera mode to precision mode, it directly provides marker coordinates</p>
<p>Start camera output ==&ndash;</p>
<p>Turn on some overlay text so it's clear things are ===&mdash; working even if there is nothing in the camera's view. ===&mdash; Set some other parameters as well of the camera</p>
<p>sample some frames and calculate the position and attitude. then average those values and use that as zero position</p>
<p>Fetch a new frame from the camera ===&mdash;</p>
<p>Ok, we've received a new frame, lets do something with it.</p>
<p>for(int i=0; i&lt;frame-&gt;ObjectCount(); i++)</p>
<p>sort the 2d points with the correct indices as found in the preceeding order determination algorithm</p>
<p>Compute the pose from the 3D-2D corresponses</p>
<p>project the marker 3d points with the solution into the camera image CoSy and calculate difference to true camera image</p>
<p>&lt;Iterative Method needs time to converge to solution</p>
<p>&lt; That are not the values of yaw, roll and pitch yet! Rodriguez has to be called first.</p>
<p>&lt;&ndash; one sample more :D</p>
<p>Release camera ==&ndash;</p>
<p>Divide by the number of samples to get the mean of the reference position</p>
<p>&lt; eulerRef is here in Axis Angle notation</p>
<p>&lt; axis angle to rotation matrix</p>
<p>&lt; rotation matrix to euler</p>
<p>Save the obtained calibration coefficients in a file for later use </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_cgraph.png" border="0" usemap="#main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_cgraph" alt=""/></div>
<map name="main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_cgraph" id="main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_cgraph">
<area shape="rect" id="node2" href="main_8cpp.html#a0416912fce6274568e80019b10ba294f" title="get the optimal exposure for the camera. For that find the minimum and maximum exposure were the righ..." alt="" coords="197,5,331,32"/>
<area shape="rect" id="node3" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="409,31,556,57"/>
<area shape="rect" id="node4" href="main_8cpp.html#a11ff459289305229597defd39f510959" title="determineOrder" alt="" coords="209,107,319,133"/>
<area shape="rect" id="node5" href="classcomm_object.html#acfc97f4310e2b7d841ecb8cf8be0088e" title="commObject::progressUpdate" alt="" coords="167,157,361,184"/>
<area shape="rect" id="node6" href="main_8cpp.html#a2104a5d9d6b9f1e29bc4cd858c59882e" title="project a coordinate CoSy with the rotation and translation of the object for visualization ..." alt="" coords="184,208,344,235"/>
<area shape="rect" id="node7" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="211,259,317,285"/>
<area shape="rect" id="node8" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="173,309,355,336"/>
<area shape="rect" id="node9" href="main_8cpp.html#ab2b71933055cf32cc8e5e2100fd7723f" title="get the euler angles from a rotation matrix " alt="" coords="209,360,319,387"/>
<area shape="rect" id="node10" href="classcomm_object.html#a1f4b8dd22ecc46bab619f6b1fe1a5144" title="commObject::changeStatus" alt="" coords="172,411,356,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_icgraph.png" border="0" usemap="#main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_icgraph" alt=""/></div>
<map name="main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_icgraph" id="main_8h_a7ad2e3cfb5056dbab2098e0dd3bd353f_icgraph">
<area shape="rect" id="node2" href="class_rigid_track.html#a9a939d6db3d268e75a603cb3d492a91b" title="RigidTrack::on_btnCalibrate\lGround_clicked" alt="" coords="167,5,348,47"/>
</map>
</div>

</div>
</div>
<a id="af2a8b7de0b15dc17198c147ba39e85f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a8b7de0b15dc17198c147ba39e85f3">&#9670;&nbsp;</a></span>closeUDP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closeUDP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close the UDP ports again to release network interfaces etc. </p>
<p>check if the socket is open and if yes close it </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_af2a8b7de0b15dc17198c147ba39e85f3_cgraph.png" border="0" usemap="#main_8h_af2a8b7de0b15dc17198c147ba39e85f3_cgraph" alt=""/></div>
<map name="main_8h_af2a8b7de0b15dc17198c147ba39e85f3_cgraph" id="main_8h_af2a8b7de0b15dc17198c147ba39e85f3_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="133,5,280,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_af2a8b7de0b15dc17198c147ba39e85f3_icgraph.png" border="0" usemap="#main_8h_af2a8b7de0b15dc17198c147ba39e85f3_icgraph" alt=""/></div>
<map name="main_8h_af2a8b7de0b15dc17198c147ba39e85f3_icgraph" id="main_8h_af2a8b7de0b15dc17198c147ba39e85f3_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="133,13,232,39"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="280,13,405,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="453,5,656,47"/>
</map>
</div>

</div>
</div>
<a id="a0416912fce6274568e80019b10ba294f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0416912fce6274568e80019b10ba294f">&#9670;&nbsp;</a></span>determineExposure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int determineExposure </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the optimal exposure for the camera. For that find the minimum and maximum exposure were the right number of markers are detected </p>
<p>For OptiTrack Ethernet cameras, it's important to enable development mode if you want to stop execution for an extended time while debugging without disconnecting the Ethernet devices. Lets do that now:</p>
<p>Initialize Camera SDK ==&ndash;</p>
<p>At this point the Camera SDK is actively looking for all connected cameras and will initialize them on it's own.</p>
<p>Get a connected camera ================-&mdash;</p>
<p>If no device connected, pop a message box and exit ==&ndash;</p>
<p>Determine camera resolution to size application window ==-&mdash;</p>
<p>set the camera mode to precision mode, it used greyscale imformation for marker property calculations</p>
<p>Start camera output ==&ndash;</p>
<p>Turn on some overlay text so it's clear things are ===&mdash; working even if there is nothing in the camera's view. ===&mdash;</p>
<p>set the camera exposure</p>
<p>set the camera infrared LED intensity</p>
<p>set the camera framerate to 100 Hz</p>
<p>enable the filter that blocks visible light and only passes infrared light</p>
<p>enable high power mode of the leds</p>
<p>enable continuous LED light</p>
<p>set threshold for marker detection</p>
<p>set exposure such that num markers are visible</p>
<p>Number of objects (markers) found in the current picture with the given exposure</p>
<p>exposure when objects detected the first time is numberMarkers</p>
<p>exposure when objects detected is first time numberMarkers+1</p>
<p>set the exposure to the smallest value possible</p>
<p>if the markers arent found after numberTries then there might be no markers at all in the real world</p>
<p>Determine minimum exposure, hence when are numberMarkers objects detected</p>
<p>get a new camera frame</p>
<p>frame received</p>
<p>how many objects are detected in the image</p>
<p>if the right amount if markers is found, exit while loop</p>
<p>not the right amount of markers was found so increase the exposure and try again</p>
<p>Now determine maximum exposure, hence when are numberMarkers+1 objects detected</p>
<p>if the markers arent found after numberTries then there might be no markers at all in the real world</p>
<p>how many objects are detected in the image</p>
<p>if the right amount if markers is found, exit while loop</p>
<p>not the right amount of markers was found so decrease the exposure and try again</p>
<p>set the exposure to the mean of min and max exposure determined</p>
<p>and now check if the correct amount of markers is detected with that new value</p>
<p>how many objects are detected in the image</p>
<p>are all markers and not more or less detected in the image</p>
<p>Release camera ==&ndash;</p>
<p>all markers and not more or less are found </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a0416912fce6274568e80019b10ba294f_cgraph.png" border="0" usemap="#main_8h_a0416912fce6274568e80019b10ba294f_cgraph" alt=""/></div>
<map name="main_8h_a0416912fce6274568e80019b10ba294f_cgraph" id="main_8h_a0416912fce6274568e80019b10ba294f_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="188,5,335,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a0416912fce6274568e80019b10ba294f_icgraph.png" border="0" usemap="#main_8h_a0416912fce6274568e80019b10ba294f_icgraph" alt=""/></div>
<map name="main_8h_a0416912fce6274568e80019b10ba294f_icgraph" id="main_8h_a0416912fce6274568e80019b10ba294f_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="195,17,294,43"/>
<area shape="rect" id="node5" href="main_8h.html#a7f3915653dcf5181fdc6e552ae8e6363" title="determine the initial position of the object that serves as reference point or as ground frame origin..." alt="" coords="212,71,277,98"/>
<area shape="rect" id="node7" href="main_8h.html#a7ad2e3cfb5056dbab2098e0dd3bd353f" title="calibrateGround" alt="" coords="188,129,301,155"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="377,13,503,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="579,5,781,47"/>
<area shape="rect" id="node6" href="class_rigid_track.html#afb1a4edcacc818db4ec6bb017dd07e0f" title="RigidTrack::on_btnZero\l_clicked" alt="" coords="363,64,517,105"/>
<area shape="rect" id="node8" href="class_rigid_track.html#a9a939d6db3d268e75a603cb3d492a91b" title="RigidTrack::on_btnCalibrate\lGround_clicked" alt="" coords="349,129,531,171"/>
</map>
</div>

</div>
</div>
<a id="a11ff459289305229597defd39f510959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ff459289305229597defd39f510959">&#9670;&nbsp;</a></span>determineOrder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determineOrder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>compute the order of the marker points in 2D so they are the same as in the 3D array. Hence marker 1 must be in first place for both, list_points2d and list_points3d </p>
<p>determine the 3D-2D correspondences that are crucial for the PnP algorithm Try every possible correspondence and solve PnP Then project the 3D marker points into the 2D camera image and check the difference between projected points and points as seen by the camera the corresponce with the smallest difference is probably the correct one</p>
<p>the difference between true 2D points and projected points is super big</p>
<p>now try every possible permutation of correspondence</p>
<p>reset the starting values for solvePnP</p>
<p>sort the 2d points with the current permutation</p>
<p>Call solve PNP with P3P since its more robust and sufficient for start value determination</p>
<p>set the current difference of all point correspondences to zero</p>
<p>project the 3D points with the solvePnP solution onto 2D</p>
<p>now compute the absolute difference (error)</p>
<p>if the difference with the current permutation is smaller than the smallest value till now it is probably the more correct permutation</p>
<p>&lt; set the smallest value of difference to the current one</p>
<p>&lt; now safe the better permutation</p>
<p>try every permutation</p>
<p>now that the correct order is found assign it to the indices array </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a11ff459289305229597defd39f510959_icgraph.png" border="0" usemap="#main_8h_a11ff459289305229597defd39f510959_icgraph" alt=""/></div>
<map name="main_8h_a11ff459289305229597defd39f510959_icgraph" id="main_8h_a11ff459289305229597defd39f510959_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="171,17,270,43"/>
<area shape="rect" id="node5" href="main_8h.html#a7f3915653dcf5181fdc6e552ae8e6363" title="determine the initial position of the object that serves as reference point or as ground frame origin..." alt="" coords="188,71,253,98"/>
<area shape="rect" id="node7" href="main_8h.html#a7ad2e3cfb5056dbab2098e0dd3bd353f" title="calibrateGround" alt="" coords="164,129,277,155"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="353,13,479,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="555,5,757,47"/>
<area shape="rect" id="node6" href="class_rigid_track.html#afb1a4edcacc818db4ec6bb017dd07e0f" title="RigidTrack::on_btnZero\l_clicked" alt="" coords="339,64,493,105"/>
<area shape="rect" id="node8" href="class_rigid_track.html#a9a939d6db3d268e75a603cb3d492a91b" title="RigidTrack::on_btnCalibrate\lGround_clicked" alt="" coords="325,129,507,171"/>
</map>
</div>

</div>
</div>
<a id="af6430ad2592a955a3618549547dfc5be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6430ad2592a955a3618549547dfc5be">&#9670;&nbsp;</a></span>drawPositionText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drawPositionText </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>Picture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>Position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>Euler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>draw the position, attitude and reprojection error in the picture </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_af6430ad2592a955a3618549547dfc5be_icgraph.png" border="0" usemap="#main_8h_af6430ad2592a955a3618549547dfc5be_icgraph" alt=""/></div>
<map name="main_8h_af6430ad2592a955a3618549547dfc5be_icgraph" id="main_8h_af6430ad2592a955a3618549547dfc5be_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="179,17,277,43"/>
<area shape="rect" id="node5" href="main_8h.html#a7f3915653dcf5181fdc6e552ae8e6363" title="determine the initial position of the object that serves as reference point or as ground frame origin..." alt="" coords="195,71,261,98"/>
<area shape="rect" id="node7" href="main_8h.html#a49aae6cc1a72ace00943d9226b5070b3" title="project some points from 3D to 2D and then check the accuracy of the algorithms " alt="" coords="175,126,281,153"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="344,13,469,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="532,5,735,47"/>
<area shape="rect" id="node6" href="class_rigid_track.html#afb1a4edcacc818db4ec6bb017dd07e0f" title="RigidTrack::on_btnZero\l_clicked" alt="" coords="329,64,484,105"/>
<area shape="rect" id="node8" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="381,130,432,157"/>
<area shape="rect" id="node9" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="572,105,695,131"/>
<area shape="rect" id="node13" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="597,155,670,182"/>
<area shape="rect" id="node10" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="783,105,937,131"/>
<area shape="rect" id="node11" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="985,105,1091,131"/>
<area shape="rect" id="node12" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="1139,105,1272,131"/>
</map>
</div>

</div>
</div>
<a id="a44774828fee2764f3f3734bbd3f446e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44774828fee2764f3f3734bbd3f446e3">&#9670;&nbsp;</a></span>load_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void load_calibration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a previously saved camera calibration from a file. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a44774828fee2764f3f3734bbd3f446e3_cgraph.png" border="0" usemap="#main_8h_a44774828fee2764f3f3734bbd3f446e3_cgraph" alt=""/></div>
<map name="main_8h_a44774828fee2764f3f3734bbd3f446e3_cgraph" id="main_8h_a44774828fee2764f3f3734bbd3f446e3_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="165,5,312,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a44774828fee2764f3f3734bbd3f446e3_icgraph.png" border="0" usemap="#main_8h_a44774828fee2764f3f3734bbd3f446e3_icgraph" alt=""/></div>
<map name="main_8h_a44774828fee2764f3f3734bbd3f446e3_icgraph" id="main_8h_a44774828fee2764f3f3734bbd3f446e3_icgraph">
<area shape="rect" id="node2" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="233,31,284,57"/>
<area shape="rect" id="node8" href="class_rigid_track.html#a2224d3f6d923a1c7bad356f49d7a4124" title="RigidTrack::on_btnLoadCalib\l_clicked" alt="" coords="165,82,352,123"/>
<area shape="rect" id="node3" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="400,5,523,32"/>
<area shape="rect" id="node7" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="425,56,498,83"/>
<area shape="rect" id="node4" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="571,5,725,32"/>
<area shape="rect" id="node5" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="773,5,879,32"/>
<area shape="rect" id="node6" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="927,5,1060,32"/>
</map>
</div>

</div>
</div>
<a id="af39fa6c3a36ad6bc24a327db7a9d73c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af39fa6c3a36ad6bc24a327db7a9d73c2">&#9670;&nbsp;</a></span>loadCameraPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadCameraPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>load the rotation matrix from camera CoSy to ground CoSy It is determined during ground calibration and once the camera is mounted and fixed stays the same </p>
<p>Open the referenceData.xml that contains the rotation from camera CoSy to ground CoSy </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_cgraph.png" border="0" usemap="#main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_cgraph" alt=""/></div>
<map name="main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_cgraph" id="main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="192,5,339,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_icgraph.png" border="0" usemap="#main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_icgraph" alt=""/></div>
<map name="main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_icgraph" id="main_8h_af39fa6c3a36ad6bc24a327db7a9d73c2_icgraph">
<area shape="rect" id="node2" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="192,31,243,57"/>
<area shape="rect" id="node3" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="291,5,413,32"/>
<area shape="rect" id="node7" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="315,56,389,83"/>
<area shape="rect" id="node4" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="461,5,616,32"/>
<area shape="rect" id="node5" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="664,5,769,32"/>
<area shape="rect" id="node6" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="817,5,951,32"/>
</map>
</div>

</div>
</div>
<a id="a56c7f641859cb2b6b99b0947d03be800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c7f641859cb2b6b99b0947d03be800">&#9670;&nbsp;</a></span>loadMarkerConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadMarkerConfig </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>load a marker configuration from file. This file has to be created by hand, use the standard marker configuration file as template </p>
<p>during start up of the programm load the standard marker configuration</p>
<p>open the standard marker configuration file</p>
<p>copy the values to the respective variables</p>
<p>inizialise vectors with correct length depending on the number of markers</p>
<p>save the marker locations in the points3d vector</p>
<p>if the load marker configuration button was clicked show a open file dialog</p>
<p>was cancel or abort clicked</p>
<p>if yes load the standard marker configuration</p>
<p>open the selected marker configuration file</p>
<p>copy the values to the respective variables</p>
<p>inizialise vectors with correct length depending on the number of markers</p>
<p>save the marker locations in the points3d vector</p>
<p>Print out the number of markers and their position to the GUI</p>
<p>check if P3P algorithm can be enabled, it needs exactly 4 marker points to work</p>
<p>if P3P is possible, let the user choose which algorithm he wants but keep iterative active</p>
<p>More (or less) marker than 4 loaded, P3P is not possible, hence user cant select P3P in GUI</p>
<p>now display the marker configuration in the camera view</p>
<p>Set the camera pose parallel to the marker coordinate system </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a56c7f641859cb2b6b99b0947d03be800_cgraph.png" border="0" usemap="#main_8h_a56c7f641859cb2b6b99b0947d03be800_cgraph" alt=""/></div>
<map name="main_8h_a56c7f641859cb2b6b99b0947d03be800_cgraph" id="main_8h_a56c7f641859cb2b6b99b0947d03be800_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="193,5,340,32"/>
<area shape="rect" id="node3" href="classcomm_object.html#a7552116eb5e18c49c6dcf943de29af7a" title="commObject::enableP3P" alt="" coords="183,56,350,83"/>
<area shape="rect" id="node4" href="main_8cpp.html#a2104a5d9d6b9f1e29bc4cd858c59882e" title="project a coordinate CoSy with the rotation and translation of the object for visualization ..." alt="" coords="187,107,347,133"/>
<area shape="rect" id="node5" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="214,157,319,184"/>
<area shape="rect" id="node6" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="176,208,357,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a56c7f641859cb2b6b99b0947d03be800_icgraph.png" border="0" usemap="#main_8h_a56c7f641859cb2b6b99b0947d03be800_icgraph" alt=""/></div>
<map name="main_8h_a56c7f641859cb2b6b99b0947d03be800_icgraph" id="main_8h_a56c7f641859cb2b6b99b0947d03be800_icgraph">
<area shape="rect" id="node2" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="248,31,299,57"/>
<area shape="rect" id="node8" href="class_rigid_track.html#ad3e07592fbc1491cdc36dd5e817e1775" title="RigidTrack::on_pbLoadMarker\l_clicked" alt="" coords="176,82,371,123"/>
<area shape="rect" id="node3" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="419,5,541,32"/>
<area shape="rect" id="node7" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="443,56,517,83"/>
<area shape="rect" id="node4" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="589,5,744,32"/>
<area shape="rect" id="node5" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="792,5,897,32"/>
<area shape="rect" id="node6" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="945,5,1079,32"/>
</map>
</div>

</div>
</div>
<a id="a2104a5d9d6b9f1e29bc4cd858c59882e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2104a5d9d6b9f1e29bc4cd858c59882e">&#9670;&nbsp;</a></span>projectCoordinateFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void projectCoordinateFrame </td>
          <td>(</td>
          <td class="paramtype">Mat&#160;</td>
          <td class="paramname"><em>pictureFrame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>project a coordinate CoSy with the rotation and translation of the object for visualization </p>
<p>&lt;z-axis</p>
<p>&lt;x-axis</p>
<p>&lt;y-axis </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a2104a5d9d6b9f1e29bc4cd858c59882e_icgraph.png" border="0" usemap="#main_8h_a2104a5d9d6b9f1e29bc4cd858c59882e_icgraph" alt=""/></div>
<map name="main_8h_a2104a5d9d6b9f1e29bc4cd858c59882e_icgraph" id="main_8h_a2104a5d9d6b9f1e29bc4cd858c59882e_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="225,18,324,45"/>
<area shape="rect" id="node5" href="main_8h.html#a7f3915653dcf5181fdc6e552ae8e6363" title="determine the initial position of the object that serves as reference point or as ground frame origin..." alt="" coords="242,74,307,101"/>
<area shape="rect" id="node7" href="main_8h.html#a49aae6cc1a72ace00943d9226b5070b3" title="project some points from 3D to 2D and then check the accuracy of the algorithms " alt="" coords="221,129,328,155"/>
<area shape="rect" id="node14" href="main_8h.html#a56c7f641859cb2b6b99b0947d03be800" title="load a marker configuration from file. This file has to be created by hand, use the standard marker c..." alt="" coords="213,179,336,206"/>
<area shape="rect" id="node16" href="main_8h.html#a7ad2e3cfb5056dbab2098e0dd3bd353f" title="calibrateGround" alt="" coords="218,241,331,267"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="419,13,544,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="627,5,829,47"/>
<area shape="rect" id="node6" href="class_rigid_track.html#afb1a4edcacc818db4ec6bb017dd07e0f" title="RigidTrack::on_btnZero\l_clicked" alt="" coords="404,64,559,105"/>
<area shape="rect" id="node8" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="456,130,507,157"/>
<area shape="rect" id="node9" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="667,105,789,131"/>
<area shape="rect" id="node13" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="691,155,765,182"/>
<area shape="rect" id="node10" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="877,105,1032,131"/>
<area shape="rect" id="node11" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="1080,105,1185,131"/>
<area shape="rect" id="node12" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="1233,105,1367,131"/>
<area shape="rect" id="node15" href="class_rigid_track.html#ad3e07592fbc1491cdc36dd5e817e1775" title="RigidTrack::on_pbLoadMarker\l_clicked" alt="" coords="384,181,579,223"/>
<area shape="rect" id="node17" href="class_rigid_track.html#a9a939d6db3d268e75a603cb3d492a91b" title="RigidTrack::on_btnCalibrate\lGround_clicked" alt="" coords="391,247,572,288"/>
</map>
</div>

</div>
</div>
<a id="a54b6b6db348b48d21e1265e22829c61f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b6b6db348b48d21e1265e22829c61f">&#9670;&nbsp;</a></span>sendDataUDP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sendDataUDP </td>
          <td>(</td>
          <td class="paramtype">cv::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>Position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Vec3d &amp;&#160;</td>
          <td class="paramname"><em>Euler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send the position and attitude over UDP to every receiver, the safety receiver is handled on its own in the start_camera function </p>
<p>Roll Pitch Heading</p>
<p>if second receiver is activated send it also the tracking data </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a54b6b6db348b48d21e1265e22829c61f_icgraph.png" border="0" usemap="#main_8h_a54b6b6db348b48d21e1265e22829c61f_icgraph" alt=""/></div>
<map name="main_8h_a54b6b6db348b48d21e1265e22829c61f_icgraph" id="main_8h_a54b6b6db348b48d21e1265e22829c61f_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="157,13,256,39"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="304,13,429,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="477,5,680,47"/>
</map>
</div>

</div>
</div>
<a id="ad19da4e648bbdc80d3123eb94711588e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad19da4e648bbdc80d3123eb94711588e">&#9670;&nbsp;</a></span>setHeadingOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setHeadingOffset </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a heading offset to the attitude for the case it is necessary. </p>
<p>Convert heading offset from degrees to rad</p>
<p>Calculate rotation about x axis</p>
<p>Calculate rotation about y axis</p>
<p>Calculate rotation about z axis</p>
<p>Combined rotation matrix </p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ad19da4e648bbdc80d3123eb94711588e_icgraph.png" border="0" usemap="#main_8h_ad19da4e648bbdc80d3123eb94711588e_icgraph" alt=""/></div>
<map name="main_8h_ad19da4e648bbdc80d3123eb94711588e_icgraph" id="main_8h_ad19da4e648bbdc80d3123eb94711588e_icgraph">
<area shape="rect" id="node2" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="236,31,287,57"/>
<area shape="rect" id="node8" href="class_rigid_track.html#a72e338d6bf93d0efa3bc503f7ca736c5" title="RigidTrack::on_sbHeading\lOffset_valueChanged" alt="" coords="175,82,348,123"/>
<area shape="rect" id="node3" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="396,5,519,32"/>
<area shape="rect" id="node7" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="421,56,494,83"/>
<area shape="rect" id="node4" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="567,5,721,32"/>
<area shape="rect" id="node5" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="769,5,875,32"/>
<area shape="rect" id="node6" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="923,5,1056,32"/>
</map>
</div>

</div>
</div>
<a id="ae624b0189bc5e32cbbb1f178b9f1a360"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae624b0189bc5e32cbbb1f178b9f1a360">&#9670;&nbsp;</a></span>setUpUDP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setUpUDP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>open the UDP ports for communication </p>
<p>Initialise the QDataStream that stores the data to be send</p>
<p>Create UDP slots</p>
<p>if the safety feature is activated open the udp port</p>
<p>if the second receiver feature is activated open the udp port </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_cgraph.png" border="0" usemap="#main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_cgraph" alt=""/></div>
<map name="main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_cgraph" id="main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="136,5,283,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_icgraph.png" border="0" usemap="#main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_icgraph" alt=""/></div>
<map name="main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_icgraph" id="main_8h_ae624b0189bc5e32cbbb1f178b9f1a360_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="136,13,235,39"/>
<area shape="rect" id="node3" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="283,13,408,39"/>
<area shape="rect" id="node4" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="456,5,659,47"/>
</map>
</div>

</div>
</div>
<a id="a7f3915653dcf5181fdc6e552ae8e6363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3915653dcf5181fdc6e552ae8e6363">&#9670;&nbsp;</a></span>setZero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int setZero </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>determine the initial position of the object that serves as reference point or as ground frame origin </p>
<p>initialize the variables with starting values</p>
<p>Initialize Camera SDK ==&ndash;</p>
<p>At this point the Camera SDK is actively looking for all connected cameras and will initialize them on it's own.</p>
<p>Get a connected camera ================-&mdash;</p>
<p>If no device connected, pop a message box and exit ==&ndash;</p>
<p>Determine camera resolution to size application window ==-&mdash;</p>
<p>Set camera mode to precision mode, it directly provides marker coordinates</p>
<p>Start camera output ==&ndash;</p>
<p>Turn on some overlay text so it's clear things are ===&mdash; working even if there is nothing in the camera's view. ===&mdash; Set some other parameters as well of the camera</p>
<p>sample some frames and calculate the position and attitude. then average those values and use that as zero position</p>
<p>&lt; difference between the marker points as seen by the camera and the projected marker points with Rvec and Tvec</p>
<p>Fetch a new frame from the camera ===&mdash;</p>
<p>Ok, we've received a new frame, lets do something with it.</p>
<p>for(int i=0; i&lt;frame-&gt;ObjectCount(); i++)</p>
<p>sort the 2d points with the correct indices as found in the preceeding order determination algorithm</p>
<p>Compute the pose from the 3D-2D corresponses</p>
<p>project the marker 3d points with the solution into the camera image CoSy and calculate difference to true camera image</p>
<p>&lt;Iterative Method needs time to converge to solution</p>
<p>&lt; That are not the values of yaw, roll and pitch yet! Rodriguez has to be called first.</p>
<p>&lt; one sample more :D</p>
<p>Release camera ==&ndash;</p>
<p>Divide by the number of samples to get the mean of the reference position</p>
<p>&lt; eulerRef is here in Axis Angle notation</p>
<p>&lt; axis angle to rotation matrix</p>
<p>&ndash; Euler Angles, finally</p>
<p>&lt; rotation matrix to euler</p>
<p>compute the difference between last obtained TVec and the average Value When it is large the iterative method has not converged properly so it is advised to start the <a class="el" href="main_8cpp.html#a7f3915653dcf5181fdc6e552ae8e6363" title="determine the initial position of the object that serves as reference point or as ground frame origin...">setZero()</a> function once again </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a7f3915653dcf5181fdc6e552ae8e6363_cgraph.png" border="0" usemap="#main_8h_a7f3915653dcf5181fdc6e552ae8e6363_cgraph" alt=""/></div>
<map name="main_8h_a7f3915653dcf5181fdc6e552ae8e6363_cgraph" id="main_8h_a7f3915653dcf5181fdc6e552ae8e6363_cgraph">
<area shape="rect" id="node2" href="main_8cpp.html#a0416912fce6274568e80019b10ba294f" title="get the optimal exposure for the camera. For that find the minimum and maximum exposure were the righ..." alt="" coords="149,5,283,32"/>
<area shape="rect" id="node3" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="361,31,508,57"/>
<area shape="rect" id="node4" href="main_8cpp.html#a11ff459289305229597defd39f510959" title="determineOrder" alt="" coords="161,107,271,133"/>
<area shape="rect" id="node5" href="classcomm_object.html#acfc97f4310e2b7d841ecb8cf8be0088e" title="commObject::progressUpdate" alt="" coords="119,157,313,184"/>
<area shape="rect" id="node6" href="main_8cpp.html#a2104a5d9d6b9f1e29bc4cd858c59882e" title="project a coordinate CoSy with the rotation and translation of the object for visualization ..." alt="" coords="136,208,296,235"/>
<area shape="rect" id="node7" href="main_8cpp.html#af6430ad2592a955a3618549547dfc5be" title="draw the position, attitude and reprojection error in the picture " alt="" coords="155,259,277,285"/>
<area shape="rect" id="node8" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="163,309,269,336"/>
<area shape="rect" id="node9" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="125,360,307,387"/>
<area shape="rect" id="node10" href="main_8cpp.html#ab2b71933055cf32cc8e5e2100fd7723f" title="get the euler angles from a rotation matrix " alt="" coords="161,411,271,437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a7f3915653dcf5181fdc6e552ae8e6363_icgraph.png" border="0" usemap="#main_8h_a7f3915653dcf5181fdc6e552ae8e6363_icgraph" alt=""/></div>
<map name="main_8h_a7f3915653dcf5181fdc6e552ae8e6363_icgraph" id="main_8h_a7f3915653dcf5181fdc6e552ae8e6363_icgraph">
<area shape="rect" id="node2" href="class_rigid_track.html#afb1a4edcacc818db4ec6bb017dd07e0f" title="RigidTrack::on_btnZero\l_clicked" alt="" coords="119,5,273,47"/>
</map>
</div>

</div>
</div>
<a id="a7d029857f86ebf6ac36e9a73508699ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d029857f86ebf6ac36e9a73508699ad">&#9670;&nbsp;</a></span>start_camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start_camera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start the loop that fetches frames, computes the position etc and sends it to other computers </p>
<p>&lt; The order of points, hence which entry in list_points3d corresponds to which in list_points2d is not calculated yet</p>
<p>&lt; Use the value of Rvec that was set in <a class="el" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file ">main()</a> as starting value for the solvePnP algorithm</p>
<p>&lt; Use the value of Tvec that was set in <a class="el" href="main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file ">main()</a> as starting value for the solvePnP algorithm</p>
<p>&lt; Get the current date and time to name the log file</p>
<p>Concat the log file name as followed. The file is saved in the folder /logs in the Rigid Track installation folder</p>
<p>Convert the QString to a standard string</p>
<p>&lt; Get the exposure where the right amount of markers is detected</p>
<p>For OptiTrack Ethernet cameras, it's important to enable development mode if you want to stop execution for an extended time while debugging without disconnecting the Ethernet devices. Lets do that now:</p>
<p>&lt; Initialize Camera SDK</p>
<p>At this point the Camera SDK is actively looking for all connected cameras and will initialize them on it's own</p>
<p>Get a connected camera</p>
<p>If no camera can be found, inform user in message log and exit function</p>
<p>Determine camera resolution to size application window</p>
<p>&lt; Set the camera mode to precision mode, it used greyscale imformation for marker property calculations</p>
<p>&lt; Start camera output</p>
<p>Turn on some overlay text so it's clear things are working even if there is nothing in the camera's view</p>
<p>&lt; Set the camera exposure</p>
<p>&lt; Set the camera infrared LED intensity</p>
<p>&lt; Set the camera framerate to 100 Hz</p>
<p>&lt; Enable the filter that blocks visible light and only passes infrared light</p>
<p>&lt; Enable high power mode of the LEDs</p>
<p>&lt; Disable continuous LED light</p>
<p>&lt; Set threshold for marker detection</p>
<p>Create a new matrix that stores the grayscale picture from the camera</p>
<p>&lt; QPixmap is the corresponding Qt class that saves images</p>
<p>Matrix that stores the colored picture, hence marker points, coordinate frame and reprojected points</p>
<p>&lt; Helper variable used to kick safety switch</p>
<p>Variables for the min and max values that are needed for sanity checks</p>
<p>&lt; Ff a marker is not visible or accuracy is bad increase this counter</p>
<p>&lt; Equals the quality of the tracking</p>
<p>&lt; Open sockets and ports for UDP communication</p>
<p>&lt; If the safety feature is enabled send the starting message</p>
<p>Send enable message, hence send a 9 and then a 1</p>
<p>Fetch a new frame from the camera</p>
<p>&lt; Get the timestamp of the first frame. This time is subtracted from every subseeding frame so the time starts at 0 in the logs</p>
<p>&lt; While no new frame is received loop</p>
<p>&lt; Get a new camera frame</p>
<p>&lt; There is actually a new frame</p>
<p>&lt; Get the time stamp for the first frame. It is subtracted for the following frames</p>
<p>&lt; Release the frame so the camera can continue</p>
<p>&lt; Exit the while loop</p>
<p>Now enter the main loop that processes each frame and computes the pose, sends it and logs stuff</p>
<p>Check if the user has not pressed "Stop Tracking" yet</p>
<p>&lt; Fetch a new frame from the camera</p>
<p>&lt; Did we got a new frame or does the camera still need more time</p>
<p>&lt; Increase by one, if everything is okay it is decreased at the end of the loop again</p>
<p>Only use this frame it the right number of markers is found in the picture</p>
<p>Get the marker points in 2D in the camera image frame and store them in the list_points2dUnsorted vector The order of points that come from the camera corresponds to the Y coordinate</p>
<p>&lt; Was the order already determined? This is false for the first frame and from then on true</p>
<p>&lt; Now compute the order</p>
<p>Sort the 2d points with the correct indices as found in the preceeding order determination algorithm</p>
<p>&lt; pointOrderIndices was calculated in <a class="el" href="main_8cpp.html#a11ff459289305229597defd39f510959">determineOrder()</a></p>
<p>The first time the 2D-3D corresspondence was determined with gotOrder was okay. But this order can change as the object moves and the marker objects appear in a different order in the frame-&gt;Object() array. The solution is that: When a marker point (in the camera image, hence in 2D) was at a position then it wont move that much from one frame to the other. So for the new frame we take a marker object and check which marker was closest this point in the old image frame? This is probably the same (true) marker. And we do that for every other marker as well. When tracking is good and no frames are dropped because of missing markers this should work every frame.</p>
<p>&lt; The sum of point distances is set to something unrealistic large</p>
<p>Calculate N_2 norm of unsorted points minus old points</p>
<p>If the norm is smaller than minPointDistance the correspondence is more likely to be correct</p>
<p>Update the array that saves the new point order</p>
<p>Now the new order is found, set the point order to the new value</p>
<p>Save the unsorted position of the marker points for the next loop</p>
<p>Compute the object pose from the 3D-2D corresponses</p>
<p>Project the marker 3d points with the solution into the camera image CoSy and calculate difference to true camera image</p>
<p>Difference of true pose and found pose</p>
<p>Increase the framesDropped variable if accuracy of tracking is too bad</p>
<p>&lt; Set number of subsequent frames dropped to zero because error is small enough and no marker was missing</p>
<p>Get the min and max values from TVec for sanity check</p>
<p>Sanity check of values. negative z means the marker CoSy is behind the camera, that's not possible.</p>
<p>&lt; Release the frame so the camera can move on</p>
<p>&lt; Release the camera</p>
<p>&lt; Close all UDP connections so the programm can be closed later on and no resources are locked</p>
<p>&lt; Exit the function</p>
<p>Next step is the transformation from camera CoSy to navigation CoSy Compute the relative object position from the reference position to the current one given in the camera CoSy: T_C^{NM} = Tvec - Tvec_{Ref}</p>
<p>Transform the position from the camera CoSy to the navigation CoSy with INS alligned heading and convert from [mm] to [m] T_N^{NM} = M_{NC}  T_C^{NM}</p>
<p>&lt; Position is the result of the preceeding calculation</p>
<p>&lt; Invert Z if check box in GUI is activated, hence height above ground is considered</p>
<p>Realtive angle between reference orientation and current orientation</p>
<p>&lt; Convert axis angle respresentation to ordinary rotation matrix</p>
<p>The difference of the reference rotation and the current rotation R_{ NM } = M_{ NC }  R_{ CM }</p>
<p>Euler Angles, finally</p>
<p>Get the euler angles from the rotation matrix</p>
<p>Add the heading offset to the heading angle</p>
<p>Compute the velocity with finite differences. Only use is the log file. It is done here because the more precise time stamp can be used</p>
<p>&lt; Time between the old frame and the current frame</p>
<p>&lt; Set the old frame time to the current one</p>
<p>&lt; Calculate the x velocity with finite differences</p>
<p>&lt; Calculate the y velocity with finite differences</p>
<p>&lt; Calculate the z velocity with finite differences</p>
<p>&lt; Set the old position to the current one for next frame velocity calcuation</p>
<p>Send position and Euler angles over WiFi with 100 Hz</p>
<p>Save the values in a log file, values are: Time sinc tracking started Position Euler Angles Velocity</p>
<p>Open the log file, the folder is RigidTrackInstallationFolder/logs</p>
<p>&lt; Close the file to save values</p>
<p>Check if the position and euler angles are below the allowed value, if yes send OKAY signal (1), if not send shutdown signal (0) Absolute x, y and z position in navigation CoSy must be smaller than the allowed distance</p>
<p>Absolute Euler angles must be smaller than allowed value. Heading is not considered</p>
<p>Send the OKAY signal to the desired computer every 5th time</p>
<p>Send the 1</p>
<p>reset the counter that is needed for decimation to every 5th time step</p>
<p>The euler angles of the object exceeded the allowed euler angles, send the shutdown signal (0)</p>
<p>Send the shutdown signal, a 0</p>
<p>Inform the user</p>
<p>The position of the object exceeded the allowed position, shut the object down</p>
<p>Send the shutdown signal, a 0</p>
<p>Inform the user</p>
<p>Inform the user if tracking system is disturbed (marker lost or so) or error was too big</p>
<p>&lt; Also send the shutdown signal</p>
<p>&lt; Send the shutdown signal, a 0</p>
<p>&lt; Inform the user</p>
<p>Rasterize the frame so it can be shown in the GUI</p>
<p>Convert the frame from greyscale as it comes from the camera to rgb color</p>
<p>Project (draw) the marker CoSy origin into 2D and save it in the cFrame image</p>
<p>Project the marker points from 3D to the camera image frame (2d) with the computed pose</p>
<p>Draw a circle around the projected points so the result can be better compared to the real marker position In the resulting picture those are the red dots</p>
<p>Write the current position, attitude and error values as text in the frame</p>
<p>Send the new camera picture to the GUI and call the GUI processing routine</p>
<p>&lt; Update the picture in the GUI</p>
<p>&lt; Give Qt time to handle everything</p>
<p>Release the camera frame to fetch the new one</p>
<p>User choose to stop the tracking, clean things up</p>
<p>&lt; Close the UDP connections so resources are deallocated</p>
<p>&lt; Release camera </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a7d029857f86ebf6ac36e9a73508699ad_cgraph.png" border="0" usemap="#main_8h_a7d029857f86ebf6ac36e9a73508699ad_cgraph" alt=""/></div>
<map name="main_8h_a7d029857f86ebf6ac36e9a73508699ad_cgraph" id="main_8h_a7d029857f86ebf6ac36e9a73508699ad_cgraph">
<area shape="rect" id="node2" href="main_8cpp.html#a0416912fce6274568e80019b10ba294f" title="get the optimal exposure for the camera. For that find the minimum and maximum exposure were the righ..." alt="" coords="175,5,310,32"/>
<area shape="rect" id="node3" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="381,81,528,108"/>
<area shape="rect" id="node4" href="main_8cpp.html#ae624b0189bc5e32cbbb1f178b9f1a360" title="open the UDP ports for communication " alt="" coords="201,107,284,133"/>
<area shape="rect" id="node5" href="main_8cpp.html#a11ff459289305229597defd39f510959" title="determineOrder" alt="" coords="187,157,298,184"/>
<area shape="rect" id="node6" href="main_8cpp.html#af2a8b7de0b15dc17198c147ba39e85f3" title="close the UDP ports again to release network interfaces etc. " alt="" coords="203,208,283,235"/>
<area shape="rect" id="node7" href="main_8cpp.html#ab2b71933055cf32cc8e5e2100fd7723f" title="get the euler angles from a rotation matrix " alt="" coords="187,259,298,285"/>
<area shape="rect" id="node8" href="main_8cpp.html#a54b6b6db348b48d21e1265e22829c61f" title="send the position and attitude over UDP to every receiver, the safety receiver is handled on its own ..." alt="" coords="191,309,295,336"/>
<area shape="rect" id="node9" href="main_8cpp.html#a2104a5d9d6b9f1e29bc4cd858c59882e" title="project a coordinate CoSy with the rotation and translation of the object for visualization ..." alt="" coords="163,360,323,387"/>
<area shape="rect" id="node10" href="main_8cpp.html#af6430ad2592a955a3618549547dfc5be" title="draw the position, attitude and reprojection error in the picture " alt="" coords="182,411,303,437"/>
<area shape="rect" id="node11" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="190,461,295,488"/>
<area shape="rect" id="node12" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="152,512,333,539"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a7d029857f86ebf6ac36e9a73508699ad_icgraph.png" border="0" usemap="#main_8h_a7d029857f86ebf6ac36e9a73508699ad_icgraph" alt=""/></div>
<map name="main_8h_a7d029857f86ebf6ac36e9a73508699ad_icgraph" id="main_8h_a7d029857f86ebf6ac36e9a73508699ad_icgraph">
<area shape="rect" id="node2" href="main_8h.html#a2daa058d8e8204f4e0c51cd8f7d0f962" title="Start or stop the camera depending on if the camera is currently running or not. " alt="" coords="152,13,277,39"/>
<area shape="rect" id="node3" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="325,5,528,47"/>
</map>
</div>

</div>
</div>
<a id="a2daa058d8e8204f4e0c51cd8f7d0f962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2daa058d8e8204f4e0c51cd8f7d0f962">&#9670;&nbsp;</a></span>start_stopCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_stopCamera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start or stop the camera depending on if the camera is currently running or not. </p>
<p>tracking is not running so start it</p>
<p>&lt; tracking is currently running, set exitRequest to true so the while loop in <a class="el" href="main_8cpp.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ...">start_camera()</a> exits </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_cgraph.png" border="0" usemap="#main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_cgraph" alt=""/></div>
<map name="main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_cgraph" id="main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_cgraph">
<area shape="rect" id="node2" href="main_8cpp.html#a7d029857f86ebf6ac36e9a73508699ad" title="start the loop that fetches frames, computes the position etc and sends it to other computers ..." alt="" coords="179,259,277,285"/>
<area shape="rect" id="node3" href="main_8cpp.html#a0416912fce6274568e80019b10ba294f" title="get the optimal exposure for the camera. For that find the minimum and maximum exposure were the righ..." alt="" coords="349,5,483,32"/>
<area shape="rect" id="node4" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="555,81,701,108"/>
<area shape="rect" id="node5" href="main_8cpp.html#ae624b0189bc5e32cbbb1f178b9f1a360" title="open the UDP ports for communication " alt="" coords="375,107,457,133"/>
<area shape="rect" id="node6" href="main_8cpp.html#a11ff459289305229597defd39f510959" title="determineOrder" alt="" coords="361,157,471,184"/>
<area shape="rect" id="node7" href="main_8cpp.html#af2a8b7de0b15dc17198c147ba39e85f3" title="close the UDP ports again to release network interfaces etc. " alt="" coords="376,208,456,235"/>
<area shape="rect" id="node8" href="main_8cpp.html#ab2b71933055cf32cc8e5e2100fd7723f" title="get the euler angles from a rotation matrix " alt="" coords="361,259,471,285"/>
<area shape="rect" id="node9" href="main_8cpp.html#a54b6b6db348b48d21e1265e22829c61f" title="send the position and attitude over UDP to every receiver, the safety receiver is handled on its own ..." alt="" coords="364,309,468,336"/>
<area shape="rect" id="node10" href="main_8cpp.html#a2104a5d9d6b9f1e29bc4cd858c59882e" title="project a coordinate CoSy with the rotation and translation of the object for visualization ..." alt="" coords="336,360,496,387"/>
<area shape="rect" id="node11" href="main_8cpp.html#af6430ad2592a955a3618549547dfc5be" title="draw the position, attitude and reprojection error in the picture " alt="" coords="355,411,477,437"/>
<area shape="rect" id="node12" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="363,461,469,488"/>
<area shape="rect" id="node13" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="325,512,507,539"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_icgraph.png" border="0" usemap="#main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_icgraph" alt=""/></div>
<map name="main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_icgraph" id="main_8h_a2daa058d8e8204f4e0c51cd8f7d0f962_icgraph">
<area shape="rect" id="node2" href="class_rigid_track.html#a2f226856e28868c8bb1854fa16531f60" title="RigidTrack::on_btnStartCamera\l_clicked" alt="" coords="179,5,381,47"/>
</map>
</div>

</div>
</div>
<a id="a49aae6cc1a72ace00943d9226b5070b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49aae6cc1a72ace00943d9226b5070b3">&#9670;&nbsp;</a></span>test_Algorithm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void test_Algorithm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>project some points from 3D to 2D and then check the accuracy of the algorithms </p>
<p>&lt; in mm</p>
<p>&lt; 0 = iterative 1 = EPNP 2 = P3P 4 = UPNP //!&lt; not used</p>
<p>&lt; 0 = iterative 1 = EPNP 2 = P3P 4 = UPNP UPnP not used</p>
<p>&lt; 0 = iterative 1 = EPNP 2 = P3P 4 = UPNP //!&lt; not used</p>
<p>&lt; 0 = iterative 1 = EPNP 2 = P3P 4 = UPNP //!&lt; not used </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a49aae6cc1a72ace00943d9226b5070b3_cgraph.png" border="0" usemap="#main_8h_a49aae6cc1a72ace00943d9226b5070b3_cgraph" alt=""/></div>
<map name="main_8h_a49aae6cc1a72ace00943d9226b5070b3_cgraph" id="main_8h_a49aae6cc1a72ace00943d9226b5070b3_cgraph">
<area shape="rect" id="node2" href="classcomm_object.html#aec354c7099b3039083cc4224e071e022" title="commObject::addLog" alt="" coords="177,5,324,32"/>
<area shape="rect" id="node3" href="main_8cpp.html#a2104a5d9d6b9f1e29bc4cd858c59882e" title="project a coordinate CoSy with the rotation and translation of the object for visualization ..." alt="" coords="171,56,331,83"/>
<area shape="rect" id="node4" href="main_8cpp.html#a3e3cc959a7ab6f93ea52863d86373ce5" title="convert a opencv matrix that represents a picture to a Qt Pixmap object " alt="" coords="198,107,303,133"/>
<area shape="rect" id="node5" href="classcomm_object.html#a6f81522c2aa1668fa402f08710e6206b" title="commObject::changeImage" alt="" coords="160,157,341,184"/>
<area shape="rect" id="node6" href="main_8cpp.html#af6430ad2592a955a3618549547dfc5be" title="draw the position, attitude and reprojection error in the picture " alt="" coords="190,208,311,235"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8h_a49aae6cc1a72ace00943d9226b5070b3_icgraph.png" border="0" usemap="#main_8h_a49aae6cc1a72ace00943d9226b5070b3_icgraph" alt=""/></div>
<map name="main_8h_a49aae6cc1a72ace00943d9226b5070b3_icgraph" id="main_8h_a49aae6cc1a72ace00943d9226b5070b3_icgraph">
<area shape="rect" id="node2" href="supportcode_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="file handler for writing the log file " alt="" coords="160,31,211,57"/>
<area shape="rect" id="node3" href="class_surface.html#a728571d0386e9690ce1760931562c72b" title="Surface::PutPixel" alt="" coords="259,5,381,32"/>
<area shape="rect" id="node7" href="supportcode_8cpp.html#a661c2abc03926acfaeb93b4ae7db4943" title="/&lt; Window Show State " alt="" coords="283,56,357,83"/>
<area shape="rect" id="node4" href="class_surface.html#a377c59f6ef131d4b879cda93578a3efa" title="Surface::SurfaceHeight" alt="" coords="429,5,584,32"/>
<area shape="rect" id="node5" href="supportcode_8h.html#ac43c2dc16b0859b03a4f7d04a7e97d3c" title="DrawGLScene" alt="" coords="632,5,737,32"/>
<area shape="rect" id="node6" href="class_surface.html#abe0d542404575c60911d6ad4219560f9" title="Surface::PixelSpan" alt="" coords="785,5,919,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af29e7fc07ae0979d5fb61b473241d33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af29e7fc07ae0979d5fb61b473241d33d">&#9670;&nbsp;</a></span>commObj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcomm_object.html">commObject</a> commObj</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5cc3bd09f5801804b7ae65846e0b9824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc3bd09f5801804b7ae65846e0b9824">&#9670;&nbsp;</a></span>invertZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int invertZ</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dummy variable to invert Z direction on request </p>

</div>
</div>
<a id="ab97ac0d82b1753d0eef37089be17e5e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97ac0d82b1753d0eef37089be17e5e1">&#9670;&nbsp;</a></span>IPAdressObject</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHostAddress IPAdressObject</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>socket for the communication with the rope winch </p>

</div>
</div>
<a id="afefb1102a8a4a71b55d6f24f46404cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefb1102a8a4a71b55d6f24f46404cc5">&#9670;&nbsp;</a></span>IPAdressSafety</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHostAddress IPAdressSafety</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IPv4 adress of the object wifi telemetry chip, can change to 192.168.4.x. This is where the position etc is sent to. </p>

</div>
</div>
<a id="a354806cf8cbface3575f2541d8fbcbda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354806cf8cbface3575f2541d8fbcbda">&#9670;&nbsp;</a></span>IPAdressSafety2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHostAddress IPAdressSafety2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IPv4 adress of the circuit breaker, stays the same. </p>

</div>
</div>
<a id="ab5e634b66221f494504aea1557af5df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e634b66221f494504aea1557af5df9">&#9670;&nbsp;</a></span>methodPNP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int methodPNP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>solvePNP algorithm 0 = iterative 1 = EPNP 2 = P3P 4 = UPNP //!&lt; 4 and 1 are the same and not implemented correctly by OpenCV </p>

</div>
</div>
<a id="a9a00043c93a3362969c1c1fcd3a70fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a00043c93a3362969c1c1fcd3a70fea">&#9670;&nbsp;</a></span>portObject</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int portObject</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IPv4 adress of the rope winch,. </p>

</div>
</div>
<a id="a137bc8cc9d53ad9b176c988a99bc7142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137bc8cc9d53ad9b176c988a99bc7142">&#9670;&nbsp;</a></span>portSafety</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int portSafety</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port of the object. </p>

</div>
</div>
<a id="a2601be9c226be24c71ec8282f632e723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2601be9c226be24c71ec8282f632e723">&#9670;&nbsp;</a></span>portSafety2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int portSafety2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Port of the safety switch. </p>

</div>
</div>
<a id="a436fb814ccc3f02617dade4dc6511143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a436fb814ccc3f02617dade4dc6511143">&#9670;&nbsp;</a></span>safety2Enable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool safety2Enable</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>is the second receiver enabled </p>

</div>
</div>
<a id="ae65386c3310ab826e84fba757296de9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae65386c3310ab826e84fba757296de9a">&#9670;&nbsp;</a></span>safetyAngle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int safetyAngle</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>bank and pitch angle protection in degrees </p>

</div>
</div>
<a id="a2c1b807fcb2de5a6759bd60ccae6dd7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1b807fcb2de5a6759bd60ccae6dd7e">&#9670;&nbsp;</a></span>safetyBoxLength</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double safetyBoxLength</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>length of the safety area cube in meters </p>

</div>
</div>
<a id="aa6266eedab8b3c011be53baffbfc42ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6266eedab8b3c011be53baffbfc42ab">&#9670;&nbsp;</a></span>safetyEnable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool safetyEnable</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>is the safety feature enabled </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0a4a585469a8924d4665b56217bcc10e.html">RigidTrack</a></li><li class="navelem"><a class="el" href="main_8h.html">main.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
