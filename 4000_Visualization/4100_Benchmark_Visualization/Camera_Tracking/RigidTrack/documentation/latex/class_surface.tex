\hypertarget{class_surface}{}\section{Surface Class Reference}
\label{class_surface}\index{Surface@{Surface}}


{\ttfamily \#include $<$supportcode.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_surface_a323ba9165c8635e84eb0c490fe88d846}{Surface} (int \hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width}, int \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height})
\begin{DoxyCompactList}\small\item\em /$<$============================== \end{DoxyCompactList}\item 
\hyperlink{class_surface_a89de75c95cb550d432f3ea4ed1429db0}{$\sim$\+Surface} ()
\item 
G\+Luint \hyperlink{class_surface_a2cd8789d26457187b8af4be8c178e9d4}{Get\+Texture} ()
\item 
void \hyperlink{class_surface_a5e45e936e3057fa1ddad0c7924767005}{Resize} (int \hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width}, int \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height})
\item 
int \hyperlink{class_surface_aeb8a8540f415a4d29c440667e8532e91}{Calculate\+Size} (int \hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width})
\item 
int \hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width} ()
\item 
int \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height} ()
\item 
int \hyperlink{class_surface_a4cbf23ea0c8ff533271109fc2a1a863d}{Surface\+Width} ()
\item 
int \hyperlink{class_surface_a377c59f6ef131d4b879cda93578a3efa}{Surface\+Height} ()
\item 
void \hyperlink{class_surface_a728571d0386e9690ce1760931562c72b}{Put\+Pixel} (int X, int Y, P\+I\+X\+EL Color)
\item 
unsigned char $\ast$ \hyperlink{class_surface_a8f8da8f3ee82b8e657916f40b3f40eff}{Get\+Buffer} ()
\item 
void \hyperlink{class_surface_aa75c49f53fec5c49ba8422c0d64815e6}{Rebind\+Texture} ()
\item 
int \hyperlink{class_surface_abe0d542404575c60911d6ad4219560f9}{Pixel\+Span} ()
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 25 of file supportcode.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_surface_a323ba9165c8635e84eb0c490fe88d846}\label{class_surface_a323ba9165c8635e84eb0c490fe88d846}} 
\index{Surface@{Surface}!Surface@{Surface}}
\index{Surface@{Surface}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Surface()}{Surface()}}
{\footnotesize\ttfamily Surface\+::\+Surface (\begin{DoxyParamCaption}\item[{int}]{Width,  }\item[{int}]{Height }\end{DoxyParamCaption})}



/$<$============================== 



Definition at line 417 of file supportcode.\+cpp.


\begin{DoxyCode}
417                                       : buffer(0), mDirty(\textcolor{keyword}{true})
418 \{\textcolor{comment}{}
419 \textcolor{comment}{    //!/<== Use power of 2 texture sizes ==}
420 \textcolor{comment}{}
421     mSurfaceWidth = \hyperlink{class_surface_aeb8a8540f415a4d29c440667e8532e91}{CalculateSize}(\hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width});
422     mSurfaceHeight = \hyperlink{class_surface_aeb8a8540f415a4d29c440667e8532e91}{CalculateSize}(\hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height});
423 
424     mSpan = mSurfaceWidth;
425 
426     mWidth = \hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width};
427     mHeight = \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height};
428 
429     buffer = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) malloc(mSurfaceWidth * mSurfaceHeight * 
      \hyperlink{supportcode_8h_afb291d1c2072afc3383bc2e688e75d3b}{BYTESPERPIXEL});
430 
431     memset(buffer, 0, mSurfaceWidth * mSurfaceHeight * BYTESPERPIXEL);
432 
433     \textcolor{keywordflow}{if}(buffer==0)
434         \textcolor{keywordflow}{throw}(\textcolor{stringliteral}{" nable to allocate surface buffer"});
435 
436     glGenTextures(1, &mTexture);
437     \textcolor{keywordflow}{if}(mTexture==0)
438         \textcolor{keywordflow}{throw}(\textcolor{stringliteral}{" nable to gen OpenGL texture"});
439 
440 
441     glBindTexture(GL\_TEXTURE\_2D, mTexture);
442     glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA8, mSurfaceWidth, mSurfaceHeight, 0, GL\_RGBA, GL\_UNSIGNED\_BYTE, 
      buffer);
443     glTexParameteri(GL\_TEXTURE\_2D,GL\_TEXTURE\_MIN\_FILTER,GL\_LINEAR);
444     glTexParameteri(GL\_TEXTURE\_2D,GL\_TEXTURE\_MAG\_FILTER,GL\_LINEAR);
445 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{class_surface_a323ba9165c8635e84eb0c490fe88d846_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a89de75c95cb550d432f3ea4ed1429db0}\label{class_surface_a89de75c95cb550d432f3ea4ed1429db0}} 
\index{Surface@{Surface}!````~Surface@{$\sim$\+Surface}}
\index{````~Surface@{$\sim$\+Surface}!Surface@{Surface}}
\subsubsection{\texorpdfstring{$\sim$\+Surface()}{~Surface()}}
{\footnotesize\ttfamily Surface\+::$\sim$\+Surface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 447 of file supportcode.\+cpp.


\begin{DoxyCode}
448 \{
449 
450 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_surface_aeb8a8540f415a4d29c440667e8532e91}\label{class_surface_aeb8a8540f415a4d29c440667e8532e91}} 
\index{Surface@{Surface}!Calculate\+Size@{Calculate\+Size}}
\index{Calculate\+Size@{Calculate\+Size}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Calculate\+Size()}{CalculateSize()}}
{\footnotesize\ttfamily int Surface\+::\+Calculate\+Size (\begin{DoxyParamCaption}\item[{int}]{Width }\end{DoxyParamCaption})}



Definition at line 494 of file supportcode.\+cpp.


\begin{DoxyCode}
495 \{
496     \textcolor{keywordtype}{int} mSize = 1;
497 
498     \textcolor{keywordflow}{while}(mSize<\hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width})
499         mSize*=2;
500 
501     \textcolor{keywordflow}{return} mSize;
502 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{class_surface_aeb8a8540f415a4d29c440667e8532e91_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a8f8da8f3ee82b8e657916f40b3f40eff}\label{class_surface_a8f8da8f3ee82b8e657916f40b3f40eff}} 
\index{Surface@{Surface}!Get\+Buffer@{Get\+Buffer}}
\index{Get\+Buffer@{Get\+Buffer}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Get\+Buffer()}{GetBuffer()}}
{\footnotesize\ttfamily unsigned char$\ast$ Surface\+::\+Get\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 40 of file supportcode.\+h.


\begin{DoxyCode}
40 \{ \textcolor{keywordflow}{return} buffer; \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_surface_a8f8da8f3ee82b8e657916f40b3f40eff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a2cd8789d26457187b8af4be8c178e9d4}\label{class_surface_a2cd8789d26457187b8af4be8c178e9d4}} 
\index{Surface@{Surface}!Get\+Texture@{Get\+Texture}}
\index{Get\+Texture@{Get\+Texture}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Get\+Texture()}{GetTexture()}}
{\footnotesize\ttfamily G\+Luint Surface\+::\+Get\+Texture (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 504 of file supportcode.\+cpp.


\begin{DoxyCode}
505 \{\textcolor{comment}{}
506 \textcolor{comment}{    //!/<if(mDirty==true)}
507 \textcolor{comment}{}    \{
508         glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA8, mSurfaceWidth, mSurfaceHeight, 0, GL\_RGBA, 
      GL\_UNSIGNED\_BYTE, buffer);
509         mDirty = \textcolor{keyword}{false};
510     \}
511     \textcolor{keywordflow}{return} mTexture; 
512 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_a2cd8789d26457187b8af4be8c178e9d4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_ab901f48d51b3fd427415b580dc15518c}\label{class_surface_ab901f48d51b3fd427415b580dc15518c}} 
\index{Surface@{Surface}!Height@{Height}}
\index{Height@{Height}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Height()}{Height()}}
{\footnotesize\ttfamily int Surface\+::\+Height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 35 of file supportcode.\+h.


\begin{DoxyCode}
35 \{ \textcolor{keywordflow}{return} mHeight; \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{class_surface_ab901f48d51b3fd427415b580dc15518c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_abe0d542404575c60911d6ad4219560f9}\label{class_surface_abe0d542404575c60911d6ad4219560f9}} 
\index{Surface@{Surface}!Pixel\+Span@{Pixel\+Span}}
\index{Pixel\+Span@{Pixel\+Span}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Pixel\+Span()}{PixelSpan()}}
{\footnotesize\ttfamily int Surface\+::\+Pixel\+Span (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 42 of file supportcode.\+h.


\begin{DoxyCode}
42 \{ \textcolor{keywordflow}{return} mSpan; \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_abe0d542404575c60911d6ad4219560f9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a728571d0386e9690ce1760931562c72b}\label{class_surface_a728571d0386e9690ce1760931562c72b}} 
\index{Surface@{Surface}!Put\+Pixel@{Put\+Pixel}}
\index{Put\+Pixel@{Put\+Pixel}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Put\+Pixel()}{PutPixel()}}
{\footnotesize\ttfamily void Surface\+::\+Put\+Pixel (\begin{DoxyParamCaption}\item[{int}]{X,  }\item[{int}]{Y,  }\item[{P\+I\+X\+EL}]{Color }\end{DoxyParamCaption})}



Definition at line 514 of file supportcode.\+cpp.


\begin{DoxyCode}
515 \{
516     \textcolor{keywordflow}{if}(X>=0 && Y>=0 && X<mWidth && Y<mHeight)
517     \{
518         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} *point = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}*)buffer + (Y*mSpan)+X;
519         *point = Color;
520         mDirty = \textcolor{keyword}{true};
521     \}
522 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_a728571d0386e9690ce1760931562c72b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_a728571d0386e9690ce1760931562c72b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_aa75c49f53fec5c49ba8422c0d64815e6}\label{class_surface_aa75c49f53fec5c49ba8422c0d64815e6}} 
\index{Surface@{Surface}!Rebind\+Texture@{Rebind\+Texture}}
\index{Rebind\+Texture@{Rebind\+Texture}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Rebind\+Texture()}{RebindTexture()}}
{\footnotesize\ttfamily void Surface\+::\+Rebind\+Texture (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 452 of file supportcode.\+cpp.


\begin{DoxyCode}
453 \{
454     glGenTextures(1, &mTexture);
455     \textcolor{keywordflow}{if}(mTexture==0)
456         \textcolor{keywordflow}{throw}(\textcolor{stringliteral}{" nable to gen OpenGL texture"});
457 
458 
459     glBindTexture(GL\_TEXTURE\_2D, mTexture);
460     glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA8, mSurfaceWidth, mSurfaceHeight, 0, GL\_RGBA, GL\_UNSIGNED\_BYTE, 
      buffer);
461     glTexParameteri(GL\_TEXTURE\_2D,GL\_TEXTURE\_MIN\_FILTER,GL\_LINEAR);
462     glTexParameteri(GL\_TEXTURE\_2D,GL\_TEXTURE\_MAG\_FILTER,GL\_LINEAR);
463 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{class_surface_aa75c49f53fec5c49ba8422c0d64815e6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a5e45e936e3057fa1ddad0c7924767005}\label{class_surface_a5e45e936e3057fa1ddad0c7924767005}} 
\index{Surface@{Surface}!Resize@{Resize}}
\index{Resize@{Resize}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Resize()}{Resize()}}
{\footnotesize\ttfamily void Surface\+::\+Resize (\begin{DoxyParamCaption}\item[{int}]{Width,  }\item[{int}]{Height }\end{DoxyParamCaption})}



Definition at line 466 of file supportcode.\+cpp.


\begin{DoxyCode}
467 \{
468     \textcolor{keywordflow}{if}(\hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width}==mWidth && \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height}==mHeight)
469         \textcolor{keywordflow}{return};
470 
471     \textcolor{keywordflow}{if}(\hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width}<1 || \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height}<1)
472         \textcolor{keywordflow}{return};
473 
474     \textcolor{keywordtype}{int} newSize = \hyperlink{class_surface_aeb8a8540f415a4d29c440667e8532e91}{CalculateSize}(\hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width});
475 
476     \textcolor{keywordflow}{if}(newSize>mSurfaceWidth || newSize>mSurfaceHeight)
477     \{
478         \textcolor{keywordflow}{if}(buffer!=0)
479             free(buffer);
480 
481         mSurfaceWidth = newSize;
482         mSurfaceHeight = newSize;
483         mSpan = mSurfaceWidth;
484         mWidth = \hyperlink{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}{Width};
485         mHeight = \hyperlink{class_surface_ab901f48d51b3fd427415b580dc15518c}{Height};
486         buffer = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) malloc(mSurfaceWidth * mSurfaceHeight * 
      \hyperlink{supportcode_8h_afb291d1c2072afc3383bc2e688e75d3b}{BYTESPERPIXEL});
487         \textcolor{keywordflow}{if}(buffer==0)
488             \textcolor{keywordflow}{throw}(\textcolor{stringliteral}{"Unable to allocate surface buffer"});
489 
490         mDirty = \textcolor{keyword}{true};
491     \}
492 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{class_surface_a5e45e936e3057fa1ddad0c7924767005_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a377c59f6ef131d4b879cda93578a3efa}\label{class_surface_a377c59f6ef131d4b879cda93578a3efa}} 
\index{Surface@{Surface}!Surface\+Height@{Surface\+Height}}
\index{Surface\+Height@{Surface\+Height}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Surface\+Height()}{SurfaceHeight()}}
{\footnotesize\ttfamily int Surface\+::\+Surface\+Height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 37 of file supportcode.\+h.


\begin{DoxyCode}
37 \{ \textcolor{keywordflow}{return} mSurfaceHeight; \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_a377c59f6ef131d4b879cda93578a3efa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_a377c59f6ef131d4b879cda93578a3efa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_a4cbf23ea0c8ff533271109fc2a1a863d}\label{class_surface_a4cbf23ea0c8ff533271109fc2a1a863d}} 
\index{Surface@{Surface}!Surface\+Width@{Surface\+Width}}
\index{Surface\+Width@{Surface\+Width}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Surface\+Width()}{SurfaceWidth()}}
{\footnotesize\ttfamily int Surface\+::\+Surface\+Width (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 36 of file supportcode.\+h.


\begin{DoxyCode}
36 \{ \textcolor{keywordflow}{return} mSurfaceWidth;  \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_surface_a4cbf23ea0c8ff533271109fc2a1a863d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}\label{class_surface_ae76d7c2fa208df6979a77cc60e8105c0}} 
\index{Surface@{Surface}!Width@{Width}}
\index{Width@{Width}!Surface@{Surface}}
\subsubsection{\texorpdfstring{Width()}{Width()}}
{\footnotesize\ttfamily int Surface\+::\+Width (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 34 of file supportcode.\+h.


\begin{DoxyCode}
34 \{ \textcolor{keywordflow}{return} mWidth;  \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{class_surface_ae76d7c2fa208df6979a77cc60e8105c0_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Rigid\+Track/\hyperlink{supportcode_8h}{supportcode.\+h}\item 
Rigid\+Track/\hyperlink{supportcode_8cpp}{supportcode.\+cpp}\end{DoxyCompactItemize}
